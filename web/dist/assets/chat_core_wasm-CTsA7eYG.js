let i;function f(e){y===a.length&&a.push(a.length+1);const n=y;return y=a[n],a[n]=e,n}function W(e){e<132||(a[e]=y,y=e)}let u=null;function w(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==i.memory.buffer)&&(u=new DataView(i.memory.buffer)),u}function A(e,n){return e=e>>>0,R(e,n)}let l=null;function m(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(i.memory.buffer)),l}function d(e){return a[e]}let a=new Array(128).fill(void 0);a.push(void 0,null,!0,!1);let y=a.length;function I(e,n,t){if(t===void 0){const s=p.encode(e),b=n(s.length,1)>>>0;return m().subarray(b,b+s.length).set(s),h=s.length,b}let r=e.length,c=n(r,1)>>>0;const _=m();let o=0;for(;o<r;o++){const s=e.charCodeAt(o);if(s>127)break;_[c+o]=s}if(o!==r){o!==0&&(e=e.slice(o)),c=t(c,r,r=o+e.length*3,1)>>>0;const s=m().subarray(c+o,c+r),b=p.encodeInto(e,s);o+=b.written,c=t(c,r,o,1)>>>0}return h=o,c}function g(e){const n=d(e);return W(e),n}let E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});E.decode();const j=2146435072;let O=0;function R(e,n){return O+=n,O>=j&&(E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),E.decode(),O=n),E.decode(m().subarray(e,e+n))}const p=new TextEncoder;"encodeInto"in p||(p.encodeInto=function(e,n){const t=p.encode(e);return n.set(t),{read:e.length,written:t.length}});let h=0;function D(e,n,t){try{const o=i.__wbindgen_add_to_stack_pointer(-16),s=I(e,i.__wbindgen_export,i.__wbindgen_export2),b=h;i.analyze_chat(o,s,b,n,t);var r=w().getInt32(o+4*0,!0),c=w().getInt32(o+4*1,!0),_=w().getInt32(o+4*2,!0);if(_)throw g(c);return g(r)}finally{i.__wbindgen_add_to_stack_pointer(16)}}function U(){i.init_panic_hook()}const M=new Set(["basic","cors","default"]);async function T(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.ok&&M.has(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function S(){const e={};return e.wbg={},e.wbg.__wbg_Error_52673b7de5a0ca89=function(n,t){const r=Error(A(n,t));return f(r)},e.wbg.__wbg_String_eecc4a11987127d6=function(n,t){const r=String(d(t)),c=I(r,i.__wbindgen_export,i.__wbindgen_export2),_=h;w().setInt32(n+4*1,_,!0),w().setInt32(n+4*0,c,!0)},e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(n,t){throw new Error(A(n,t))},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(n,t){let r,c;try{r=n,c=t,console.error(A(n,t))}finally{i.__wbindgen_export3(r,c,1)}},e.wbg.__wbg_new_1ba21ce319a06297=function(){const n=new Object;return f(n)},e.wbg.__wbg_new_25f239778d6112b9=function(){const n=new Array;return f(n)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){const n=new Error;return f(n)},e.wbg.__wbg_set_3807d5f0bfc24aa7=function(n,t,r){d(n)[g(t)]=g(r)},e.wbg.__wbg_set_7df433eea03a5c14=function(n,t,r){d(n)[t>>>0]=g(r)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(n,t){const r=d(t).stack,c=I(r,i.__wbindgen_export,i.__wbindgen_export2),_=h;w().setInt32(n+4*1,_,!0),w().setInt32(n+4*0,c,!0)},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(n,t){const r=A(n,t);return f(r)},e.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(n){const t=BigInt.asUintN(64,n);return f(t)},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(n){return f(n)},e.wbg.__wbindgen_object_clone_ref=function(n){const t=d(n);return f(t)},e.wbg.__wbindgen_object_drop_ref=function(n){g(n)},e}function x(e,n){return i=e.exports,k.__wbindgen_wasm_module=n,u=null,l=null,i}function v(e){if(i!==void 0)return i;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=S();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const t=new WebAssembly.Instance(e,n);return x(t,e)}async function k(e){if(i!==void 0)return i;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("chat_core_wasm_bg-CzzIUuyq.wasm",import.meta.url).href,import.meta.url));const n=S();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await T(await e,n);return x(t,r)}export{D as analyze_chat,k as default,v as initSync,U as init_panic_hook};
